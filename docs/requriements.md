## 要件定義書

- [要件定義書](#要件定義書)
  - [1. ユーザー／ユースケース](#1-ユーザーユースケース)
  - [2. 機能要件（MVP）](#2-機能要件mvp)
  - [3. 非機能要件](#3-非機能要件)


### 1. ユーザー／ユースケース

* **ユーザー**：GitHub アカウントを持つ開発者
* **主要ユースケース**：

  1. GitHub OAuth でサインイン
  2. レビュー対象にしたいリポジトリを指定
  3. 指定リポジトリのオープンPR一覧を表示
  4. PR を選択して「レビュー実行」
  5. AI（ChatGPT）が返した改善ポイントを一覧で確認

---

### 2. 機能要件（MVP）

| No. | 機能           | 詳細                                                                       |
| --- | -------------- | -------------------------------------------------------------------------- |
| 1   | GitHub OAuth   | ユーザー認証とアクセストークン取得                                         |
| 2   | リポジトリ指定 | ユーザーが任意のリポジトリを入力または選択                                 |
| 3   | PR 一覧取得    | 指定リポジトリのオープンPRを取得・表示                                     |
| 4   | Diff 取得      | 選択PRの全ファイル・全行のdiffを取得 <br> ※ Vercelデプロイ制限内であればOK |
| 5   | AI レビュー    | diffをChatGPT APIに送信し、改善ポイントを取得                              |
| 6   | レビュー表示   | 返却コメントを箇条書きで表示                                               |

---

### 3. 非機能要件

* **アクセストークン管理**：サーバー側で安全に保管
* **レスポンス性能**：API呼び出し全体で数秒以内を目標
* **UI**：シンプル設計、スピナー等の待機表示は不要
* **テスト要件**：ユニットテスト、E2Eテスト、モックを用いたChatGPT APIテストの実装
